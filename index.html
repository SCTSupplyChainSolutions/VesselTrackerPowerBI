<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  html, body {
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    background-color: #ffffff;
    font-family: 'Montserrat', sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
  }
  #radarChart {
    width:100%;
    height:100%;
  }
</style>
</head>
<body>
<div id="radarChart"></div>
<script>
  const categories = [
    "Concentration Risk",
    "Payment History",
    "Sector Diversity",
    "Margin Quality",
    "Deposit Coverage"
  ];
  const values = [9,8,2,8,5];
  const N = categories.length;
  const maxValue = 10;

  function pentagonCoords(r) {
    return Array.from({length: N}, (_, i) => {
      const angle = Math.PI/2 - 2 * Math.PI * i / N;
      return [r * Math.cos(angle), r * Math.sin(angle)];
    });
  }

  const dataCoords = pentagonCoords(1).map((c,i) => [c[0] * (values[i]/maxValue), c[1] * (values[i]/maxValue)]);
  dataCoords.push(dataCoords[0]);

  const labelCoords = pentagonCoords(1.2);  // increase to 1.2 so labels sit outside

  const dataTrace = {
    x: dataCoords.map(c => c[0]),
    y: dataCoords.map(c => c[1]),
    fill: 'toself',
    fillcolor: 'rgba(255,127,14,0.5)',
    line: { color: '#ff7f0e', width: 2 },
    mode: 'lines+markers',
    type: 'scatter',
    hoverinfo: 'skip'
  };

  const labelTrace = {
    x: labelCoords.map(c => c[0]),
    y: labelCoords.map(c => c[1]),
    text: categories,
    mode: 'text',
    textfont: { size: 14, color: '#333' },
    type: 'scatter',
    hoverinfo: 'skip'
  };

  const layout = {
    xaxis: { visible: false, range: [-1.5, 1.5], fixedrange: true },
    yaxis: { visible: false, range: [-1.5, 1.5], fixedrange: true },
    margin: { t: 40, b: 40, l: 60, r: 60 },
    plot_bgcolor: '#ffffff',
    paper_bgcolor: '#ffffff',
    showlegend: false,
    autosize: true
  };

  Plotly.newPlot('radarChart', [dataTrace, labelTrace], layout, {displayModeBar:false, responsive:true});
  window.addEventListener('resize', () => Plotly.Plots.resize('radarChart'));
</script>
</body>
</html>
