<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background-color: #f9f9f9;
    font-family: 'Montserrat', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #radarChart {
    display: block;
  }
</style>
</head>
<body>
<div id="radarChart"></div>

<script>
const dataPoints = [
  {"Category": "Payment History", "Value": 8},
  {"Category": "Deposit Coverage", "Value": 5},
  {"Category": "Concentration Risk", "Value": 9},
  {"Category": "Margin Quality", "Value": 8},
  {"Category": "Sector Risk", "Value": 2}
];

const categories = dataPoints.map(d => d.Category);
const values = dataPoints.map(d => d.Value);
categories.push(categories[0]);
values.push(values[0]);

const trace = {
  type: 'scatterpolar',
  r: values,
  theta: categories,
  fill: 'toself',
  line: { color: '#ff7f0e' },
  hoverinfo: 'skip'
};

const layout = {
  polar: { 
    radialaxis: { visible: true, range: [0, 10], tickfont: { size: 12 } }, 
    angularaxis: { tickfont: { size: 12 } }
  },
  showlegend: false,
  margin: { t: 0, b: 0, l: 0, r: 0 },
};

const config = { displayModeBar: false, responsive: true };

const chartDiv = document.getElementById('radarChart');

function resizeChart() {
  const parentWidth = chartDiv.parentElement.clientWidth;
  const parentHeight = chartDiv.parentElement.clientHeight;

  // leave 15% padding for labels around the circle
  const size = Math.min(parentWidth, parentHeight) * 0.7; // 70% of container

  chartDiv.style.width = size + 'px';
  chartDiv.style.height = size + 'px';

  Plotly.Plots.resize(chartDiv);
}

// Initial render
Plotly.newPlot(chartDiv, [trace], layout, config);
resizeChart();

// Resize dynamically when iframe or container resizes
window.addEventListener('resize', resizeChart);
setInterval(resizeChart, 100);
</script>
</body>
</html>
